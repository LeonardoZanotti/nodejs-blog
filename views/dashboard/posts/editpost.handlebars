{{#each errors}}
    <div class="alert alert-danger">{{text}}</div>
{{else}}

{{/each}}

<div style="display: flex;">
    <a href="/dashboard/posts" style="width: 5em">
        <button class="btn btn-primary">
            Back
        </button>
    </a>

    <h2>Edit post</h2>
</div>

<div class="card">
    <div class="card-body">
        <form action="/dashboard/posts/edit" method="POST">
            <input type="hidden" value="{{post._id}}" name="id">
            <label for="title">Title</label>
            <input type="text" name="title" value="{{post.title}}" class="form-control mb-4" placeholder="Title" required>

            <label for="slug">Slug</label>
            <input type="text" name="slug" value="{{post.slug}}" class="form-control mb-4" placeholder="Slug" required>

            <label for="description">Description</label>
            <input type="text" name="description" value="{{post.description}}" class="form-control mb-4" placeholder="Description" required>

            <label for="category">Category</label>
            <select name="category" class="custom-select mb-4" required>
                <option value="">Select one...</option>
                {{#each categories}}
                    {{#ifEqual _id ../post/category }}
                        <option value="{{_id}}" selected>{{name}}</option>
                    {{else}}
                        <option value="{{_id}}">{{name}}</option>
                    {{/ifEqual}}
                {{else}}
                    <option value="0">No categories found</option>
                {{/each}}
            </select>

            <label for="content">Content</label>
            <textarea name="content" class="form-control mb-4" placeholder="Content" required>{{post.content}}</textarea>
            
            <button class="btn btn-success" type="submit">Edit post</button>
        </form>
    </div>
</div>